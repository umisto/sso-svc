openapi: 3.1.1
info:
  title: netbill auth-svc API
  description: swagger documentation for auth-svc
  version: 0.1.0
servers:
  - url: 'http://localhost:8001'
paths:
  /auth-svc/v1/registration/:
    post:
      tags:
        - registration
      summary: Register a new account
      description: Endpoint to register a new user account.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Registration'
      responses:
        '201':
          description: Account successfully registered
        '409':
          description: |
            Conflict: An account with this email or phone number already exists. Check the 'detail' field in the response for more information.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'
  /auth-svc/v1/registration/admin:
    post:
      tags:
        - registration
      summary: Register a new admin account
      description: |
        Registers a new account by an authenticated admin.
        **403 Forbidden** is returned when the initiator is not active or does not have enough rights. **409 Conflict** is returned when the email is already taken.
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RegistrationAdmin'
      responses:
        '201':
          description: Account successfully registered by admin
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Account'
        '400':
          description: |
            Bad Request. Request body is invalid or some attributes do not meet requirements. Check the `errors` array for details.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'
              examples:
                passwordNotAllowed:
                  summary: password is not allowed
                  value:
                    errors:
                      - status: 400
                        title: Bad Request
                        code: VALIDATION_ERROR
                        detail: password is not allowed
                        source:
                          pointer: /data/attributes/password
                roleNotSupported:
                  summary: role is not supported
                  value:
                    errors:
                      - status: 400
                        title: Bad Request
                        code: VALIDATION_ERROR
                        detail: role is not supported
                        source:
                          pointer: /data/attributes/role
        '401':
          description: |
            Unauthorized. Account cannot be resolved from context or initiator account not found. Check the `detail` field in the response for more information.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'
              examples:
                failedToGetUserFromContext:
                  summary: failed to get user from context
                  value:
                    errors:
                      - status: 401
                        title: Unauthorized
                        code: UNAUTHORIZED
                        detail: failed to get user from context
                initiatorNotFound:
                  summary: failed to register admin user not found
                  value:
                    errors:
                      - status: 401
                        title: Unauthorized
                        code: UNAUTHORIZED
                        detail: failed to register admin user not found
        '403':
          description: |
            Forbidden. Initiator account is not active or does not have enough rights. Check the `detail` field in the response for more information.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'
              examples:
                initiatorNotActive:
                  summary: initiator account is not active
                  value:
                    errors:
                      - status: 403
                        title: Forbidden
                        code: FORBIDDEN
                        detail: initiator account is not active
                notEnoughRights:
                  summary: only admins can register new admin accounts
                  value:
                    errors:
                      - status: 403
                        title: Forbidden
                        code: FORBIDDEN
                        detail: only admins can register new admin accounts
        '409':
          description: |
            Conflict. Email is already taken. Check the `detail` field in the response for more information.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'
              examples:
                emailAlreadyExists:
                  summary: user with this email already exists
                  value:
                    errors:
                      - status: 409
                        title: Conflict
                        code: CONFLICT
                        detail: user with this email already exists
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'
  /auth-svc/v1/login/:
    post:
      tags:
        - login
      summary: Login by email
      description: Endpoint to login a user using their email and password.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LoginByEmail'
      responses:
        '200':
          description: Successful login
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TokensPair'
        '401':
          description: |
            Unauthorized: Invalid email or password. Check the 'detail' field in the response for more information.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'
  /auth-svc/v1/login/google:
    post:
      tags:
        - login
      summary: Start Google OAuth login
      description: |
        Redirects the user-agent to Google OAuth consent screen. This endpoint returns a redirect and does not return a JSON:API document.
      responses:
        '307':
          description: Temporary Redirect to Google OAuth consent screen
          headers:
            Location:
              description: Google OAuth authorization URL
              schema:
                type: string
                format: uri
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'
  /auth-svc/v1/login/google/callback:
    get:
      tags:
        - login
      summary: Google OAuth callback
      description: |
        Exchanges Google OAuth `code` for user info and returns an access/refresh tokens pair.
      parameters:
        - in: query
          name: code
          required: true
          schema:
            type: string
          description: OAuth authorization code returned by Google
      responses:
        '200':
          description: Tokens pair issued
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TokensPair'
        '400':
          description: Missing or invalid query parameter `code`
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'
              examples:
                codeRequired:
                  summary: code is required
                  value:
                    errors:
                      - status: 400
                        title: Bad Request
                        code: VALIDATION_ERROR
                        detail: code is required
                        source:
                          parameter: code
        '403':
          description: Account is not active
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'
              examples:
                notActive:
                  summary: account is not active
                  value:
                    errors:
                      - status: 403
                        title: Forbidden
                        code: ACCOUNT_NOT_ACTIVE
                        detail: account is not active
        '404':
          description: Account not found for this email
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'
              examples:
                notFound:
                  summary: user with this email not found
                  value:
                    errors:
                      - status: 404
                        title: Not Found
                        code: ACCOUNT_NOT_FOUND
                        detail: user with this email not found
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'
  /auth-svc/v1/refresh:
    post:
      tags:
        - sessions
      summary: Refresh session
      description: |
        Issues a new access/refresh tokens pair using a valid refresh token.
        **401 Unauthorized** is returned when the account or session does not exist. **403 Forbidden** is returned when the account is inactive or the refresh token does not match the session.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RefreshSession'
      responses:
        '200':
          description: Tokens pair successfully refreshed
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TokensPair'
        '400':
          description: |
            Bad Request. Request body is invalid. Check the `errors` array for details.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'
        '401':
          description: |
            Unauthorized. Account not found or session not found. Check the `detail` field in the response for more information.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'
              examples:
                accountNotFound:
                  summary: account not found
                  value:
                    errors:
                      - status: 401
                        title: Unauthorized
                        code: UNAUTHORIZED
                        detail: account not found
                sessionNotFound:
                  summary: session not found
                  value:
                    errors:
                      - status: 401
                        title: Unauthorized
                        code: UNAUTHORIZED
                        detail: session not found
        '403':
          description: |
            Forbidden. Account is not active or refresh token mismatch. Check the `detail` field in the response for more information.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'
              examples:
                accountNotActive:
                  summary: account is not active
                  value:
                    errors:
                      - status: 403
                        title: Forbidden
                        code: FORBIDDEN
                        detail: account is not active
                refreshTokenMismatch:
                  summary: refresh session token mismatch
                  value:
                    errors:
                      - status: 403
                        title: Forbidden
                        code: FORBIDDEN
                        detail: refresh session token mismatch
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'
  /auth-svc/v1/me:
    get:
      tags:
        - accounts
      summary: Get my account
      description: |
        Returns the authenticated account.
        **401 Unauthorized** is returned when the account cannot be resolved from the provided credentials or the initiator account is not found.
      security:
        - BearerAuth: []
      responses:
        '200':
          description: Account successfully retrieved
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Account'
        '401':
          description: |
            Unauthorized. Invalid credentials or account cannot be resolved from context. Check the `detail` field in the response for more information.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'
              examples:
                failedToGetAccountFromContext:
                  summary: failed to get account from context
                  value:
                    errors:
                      - status: 401
                        title: Unauthorized
                        code: UNAUTHORIZED
                        detail: failed to get account from context
                initiatorNotFound:
                  summary: initiator account not found by credentials
                  value:
                    errors:
                      - status: 401
                        title: Unauthorized
                        code: UNAUTHORIZED
                        detail: initiator account not found by credentials
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'
    delete:
      tags:
        - accounts
      summary: Delete my account
      description: |
        Deletes the authenticated account.
        **401 Unauthorized** is returned when the account cannot be resolved from the provided credentials or the session is invalid. **403 Forbidden** is returned when the initiator account is blocked.
      security:
        - BearerAuth: []
      responses:
        '204':
          description: Account successfully deleted
        '401':
          description: |
            Unauthorized. Invalid credentials, initiator account not found, or session is invalid. Check the `detail` field in the response for more information.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'
              examples:
                failedToGetUserFromContext:
                  summary: failed to get user from context
                  value:
                    errors:
                      - status: 401
                        title: Unauthorized
                        code: UNAUTHORIZED
                        detail: failed to get user from context
                initiatorNotFound:
                  summary: initiator account not found by credentials
                  value:
                    errors:
                      - status: 401
                        title: Unauthorized
                        code: UNAUTHORIZED
                        detail: initiator account not found by credentials
                sessionInvalid:
                  summary: initiator session is invalid
                  value:
                    errors:
                      - status: 401
                        title: Unauthorized
                        code: UNAUTHORIZED
                        detail: initiator session is invalid
        '403':
          description: |
            Forbidden. Initiator account is blocked. Check the `detail` field in the response for more information.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'
              examples:
                initiatorBlocked:
                  summary: initiator is blocked
                  value:
                    errors:
                      - status: 403
                        title: Forbidden
                        code: FORBIDDEN
                        detail: initiator is blocked
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'
  /auth-svc/v1/me/email:
    get:
      tags:
        - accounts
      summary: Get my email data
      description: |
        Returns the email data of the authenticated account.
        **401 Unauthorized** is returned when the account cannot be resolved from the provided credentials or the initiator account is not found.
      security:
        - BearerAuth: []
      responses:
        '200':
          description: Email data successfully retrieved
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AccountEmail'
        '401':
          description: |
            Unauthorized. Invalid credentials or initiator account not found. Check the `detail` field in the response for more information.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'
              examples:
                failedToGetUserFromContext:
                  summary: failed to get user from context
                  value:
                    errors:
                      - status: 401
                        title: Unauthorized
                        code: UNAUTHORIZED
                        detail: failed to get user from context
                initiatorNotFound:
                  summary: initiator account not found by credentials
                  value:
                    errors:
                      - status: 401
                        title: Unauthorized
                        code: UNAUTHORIZED
                        detail: initiator account not found by credentials
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'
  /auth-svc/v1/me/logout:
    post:
      tags:
        - sessions
      summary: Logout
      description: |
        Invalidates the current session of the authenticated account.
        **401 Unauthorized** is returned when the account cannot be resolved from the provided credentials.
      security:
        - BearerAuth: []
      responses:
        '204':
          description: Successfully logged out
        '401':
          description: |
            Unauthorized. Account cannot be resolved from context. Check the `detail` field in the response for more information.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'
              examples:
                failedToGetUserFromContext:
                  summary: failed to get user from context
                  value:
                    errors:
                      - status: 401
                        title: Unauthorized
                        code: UNAUTHORIZED
                        detail: failed to get user from context
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'
  /auth-svc/v1/me/password:
    patch:
      tags:
        - accounts
      summary: Update password
      description: |
        Updates the password of the authenticated account.
        **401 Unauthorized** is returned when credentials are invalid, the session is invalid, or the old password is incorrect. **403 Forbidden** is returned when the initiator is blocked or password change is temporarily restricted.
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdatePassword'
      responses:
        '204':
          description: Password successfully updated
        '400':
          description: |
            Bad Request. Request body is invalid or the new password does not meet requirements. Check the `errors` array for details.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'
              examples:
                passwordNotAllowed:
                  summary: password is not allowed
                  value:
                    errors:
                      - status: 400
                        title: Bad Request
                        code: VALIDATION_ERROR
                        detail: password is not allowed
                        source:
                          pointer: /data/attributes/password
        '401':
          description: |
            Unauthorized. Invalid credentials, invalid session, user not found, or invalid password. Check the `detail` field in the response for more information.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'
              examples:
                failedToGetUserFromContext:
                  summary: failed to get user from context
                  value:
                    errors:
                      - status: 401
                        title: Unauthorized
                        code: UNAUTHORIZED
                        detail: failed to get user from context
                userNotFound:
                  summary: failed to update password user not found
                  value:
                    errors:
                      - status: 401
                        title: Unauthorized
                        code: UNAUTHORIZED
                        detail: failed to update password user not found
                sessionInvalid:
                  summary: initiator session is invalid
                  value:
                    errors:
                      - status: 401
                        title: Unauthorized
                        code: UNAUTHORIZED
                        detail: initiator session is invalid
                invalidPassword:
                  summary: invalid password
                  value:
                    errors:
                      - status: 401
                        title: Unauthorized
                        code: UNAUTHORIZED
                        detail: invalid password
        '403':
          description: |
            Forbidden. Initiator is blocked or password cannot be changed yet. Check the `detail` field in the response for more information.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'
              examples:
                initiatorBlocked:
                  summary: initiator is blocked
                  value:
                    errors:
                      - status: 403
                        title: Forbidden
                        code: FORBIDDEN
                        detail: initiator is blocked
                cannotChangePasswordYet:
                  summary: cannot change password yet
                  value:
                    errors:
                      - status: 403
                        title: Forbidden
                        code: FORBIDDEN
                        detail: cannot change password yet
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'
  /auth-svc/v1/me/sessions:
    get:
      tags:
        - sessions
      summary: Get my sessions
      description: |
        Returns sessions of the authenticated account.
        Supports pagination via query parameters.
      security:
        - BearerAuth: []
      parameters:
        - in: query
          name: 'page[limit]'
          required: false
          schema:
            type: integer
            minimum: 1
          description: Max number of items to return
        - in: query
          name: 'page[offset]'
          required: false
          schema:
            type: integer
            minimum: 0
          description: Number of items to skip
      responses:
        '200':
          description: Sessions successfully retrieved
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AccountSessionsCollection'
        '401':
          description: |
            Unauthorized. Invalid credentials, initiator account not found, or session is invalid. Check the `detail` field in the response for more information.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'
              examples:
                failedToGetUserFromContext:
                  summary: failed to get user from context
                  value:
                    errors:
                      - status: 401
                        title: Unauthorized
                        code: UNAUTHORIZED
                        detail: failed to get user from context
                initiatorNotFound:
                  summary: initiator account not found by credentials
                  value:
                    errors:
                      - status: 401
                        title: Unauthorized
                        code: UNAUTHORIZED
                        detail: initiator account not found by credentials
                sessionInvalid:
                  summary: initiator session is invalid
                  value:
                    errors:
                      - status: 401
                        title: Unauthorized
                        code: UNAUTHORIZED
                        detail: initiator session is invalid
        '403':
          description: |
            Forbidden. Initiator is blocked. Check the `detail` field in the response for more information.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'
              examples:
                initiatorBlocked:
                  summary: initiator is blocked
                  value:
                    errors:
                      - status: 403
                        title: Forbidden
                        code: FORBIDDEN
                        detail: initiator is blocked
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'
    delete:
      tags:
        - sessions
      summary: Delete my sessions
      description: |
        Deletes all sessions of the authenticated account (logout from all devices).
      security:
        - BearerAuth: []
      responses:
        '204':
          description: Sessions successfully deleted
        '401':
          description: |
            Unauthorized. Invalid credentials, initiator account not found, or session is invalid. Check the `detail` field in the response for more information.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'
              examples:
                failedToGetAccountFromContext:
                  summary: failed to get account from context
                  value:
                    errors:
                      - status: 401
                        title: Unauthorized
                        code: UNAUTHORIZED
                        detail: failed to get account from context
                initiatorNotFound:
                  summary: initiator account not found by credentials
                  value:
                    errors:
                      - status: 401
                        title: Unauthorized
                        code: UNAUTHORIZED
                        detail: initiator account not found by credentials
                sessionInvalid:
                  summary: initiator session is invalid
                  value:
                    errors:
                      - status: 401
                        title: Unauthorized
                        code: UNAUTHORIZED
                        detail: initiator session is invalid
        '403':
          description: |
            Forbidden. Initiator is not active or blocked. Check the `detail` field in the response for more information.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'
              examples:
                initiatorNotActive:
                  summary: initiator is not active
                  value:
                    errors:
                      - status: 403
                        title: Forbidden
                        code: FORBIDDEN
                        detail: initiator is not active
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'
  '/auth-svc/v1/me/sessions/{session_id}':
    parameters:
      - in: path
        name: session_id
        required: true
        schema:
          type: string
          format: uuid
        description: Session ID
    get:
      tags:
        - sessions
      summary: Get my sessions
      description: |
        Returns sessions of the authenticated account.
      security:
        - BearerAuth: []
      parameters:
        - in: query
          name: 'page[limit]'
          required: false
          schema:
            type: integer
            minimum: 1
          description: Max number of items to return
        - in: query
          name: 'page[offset]'
          required: false
          schema:
            type: integer
            minimum: 0
          description: Number of items to skip
      responses:
        '200':
          description: Sessions successfully retrieved
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AccountSessionsCollection'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'
    delete:
      tags:
        - sessions
      summary: Delete my sessions
      description: |
        Deletes all sessions of the authenticated account (logout from all devices).
      security:
        - BearerAuth: []
      responses:
        '204':
          description: Sessions successfully deleted
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'
components:
  schemas:
    LoginByEmail:
      type: object
      required:
        - data
      properties:
        data:
          type: object
          required:
            - type
            - attributes
          properties:
            type:
              type: string
              enum:
                - login_by_email
            attributes:
              type: object
              required:
                - email
                - password
              properties:
                email:
                  type: string
                  format: email
                  description: The account's email address.
                  example: example@gmail.com
                password:
                  type: string
                  format: password
                  description: The account's password.
                  example: StrongP@ssw0rd!
    Registration:
      type: object
      required:
        - data
      properties:
        data:
          type: object
          required:
            - type
            - attributes
          properties:
            type:
              type: string
              enum:
                - registration_account
            attributes:
              type: object
              required:
                - email
                - password
              properties:
                email:
                  type: string
                  format: email
                  description: The account's email address.
                  example: example@gmail.com
                password:
                  type: string
                  format: password
                  description: The account's password.
                  example: StrongP@ssw0rd!
    RegistrationAdmin:
      type: object
      required:
        - data
      properties:
        data:
          type: object
          required:
            - type
            - attributes
          properties:
            type:
              type: string
              enum:
                - registration_account_by_admin
            attributes:
              type: object
              required:
                - email
                - password
                - role
              properties:
                email:
                  type: string
                  format: email
                  description: The account's email address.
                  example: example1312@gmail.com
                password:
                  type: string
                  format: password
                  description: The account's password.
                  example: StrongP@ssw0rd!
                role:
                  type: string
                  description: The role assigned to the registering account.
                  enum:
                    - admin
                    - moderator
                  example: admin
    RefreshSession:
      type: object
      required:
        - data
      properties:
        data:
          type: object
          required:
            - type
            - attributes
          properties:
            type:
              type: string
              enum:
                - refresh_account_session
            attributes:
              type: object
              required:
                - refresh_token
              properties:
                refresh_token:
                  type: string
                  description: The refresh token to generate a new access token.
                  example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
    UpdatePassword:
      type: object
      required:
        - data
      properties:
        data:
          type: object
          required:
            - type
            - attributes
          properties:
            type:
              type: string
              enum:
                - update_account_password
            attributes:
              type: object
              required:
                - old_password
                - new_password
              properties:
                old_password:
                  type: string
                  format: password
                  description: The account's current password.
                  example: OldP@ssw0rd!
                new_password:
                  type: string
                  format: password
                  description: The account's password.
                  example: StrongP@ssw0rd!
    TokensPair:
      type: object
      required:
        - data
      properties:
        data:
          type: object
          required:
            - id
            - type
            - attributes
          properties:
            id:
              type: string
              format: uuid
              description: account id
            type:
              type: string
              enum:
                - tokens_pair
            attributes:
              type: object
              required:
                - access_token
                - refresh_token
              properties:
                access_token:
                  type: string
                  description: Access Token
                refresh_token:
                  type: string
                  description: Refresh Token
    AccessToken:
      type: object
      required:
        - data
      properties:
        data:
          type: object
          required:
            - type
            - attributes
          properties:
            type:
              type: string
              enum:
                - access_token
            attributes:
              type: object
              required:
                - access_token
              properties:
                refresh_token:
                  type: string
                  description: The access token to generate a new access token.
                  example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
    AccountSession:
      type: object
      required:
        - data
      properties:
        data:
          $ref: '#/components/schemas/AccountSessionData'
    AccountSessionData:
      type: object
      required:
        - id
        - type
        - attributes
      properties:
        id:
          type: string
          format: uuid
          description: session id
        type:
          type: string
          enum:
            - account_session
        attributes:
          $ref: '#/components/schemas/AccountSessionAttributes'
    AccountSessionAttributes:
      type: object
      required:
        - account_id
        - created_at
        - last_used
      properties:
        account_id:
          type: string
          format: uuid
          description: account id
        created_at:
          type: string
          format: date-time
          description: session creation date
        last_used:
          type: string
          format: date-time
          description: last used date
    AccountSessionsCollection:
      type: object
      required:
        - data
        - links
      properties:
        data:
          type: array
          items:
            $ref: '#/components/schemas/AccountSessionData'
        links:
          $ref: '#/components/schemas/PaginationData'
    Account:
      type: object
      required:
        - data
      properties:
        data:
          type: object
          required:
            - id
            - type
            - attributes
          properties:
            id:
              type: string
              format: uuid
              description: account ID
            type:
              type: string
              enum:
                - account
            attributes:
              type: object
              required:
                - role
                - created_at
                - updated_at
              properties:
                role:
                  type: string
                  description: The role assigned to the account
                created_at:
                  type: string
                  format: date-time
                  description: The date and time when the account was created
                updated_at:
                  type: string
                  format: date-time
                  description: The date and time when the account was last updated
    AccountEmail:
      type: object
      required:
        - data
      properties:
        data:
          type: object
          required:
            - id
            - type
            - attributes
          properties:
            id:
              type: string
              format: uuid
              description: account ID
            type:
              type: string
              enum:
                - account_email
            attributes:
              type: object
              required:
                - email
                - verified
                - updated_at
              properties:
                email:
                  type: string
                  format: email
                  description: The email address associated with the account
                verified:
                  type: boolean
                  description: Indicates whether the email address has been verified
                updated_at:
                  type: string
                  format: date-time
                  description: The date and time when the email information was last updated
    Errors:
      description: 'Standard JSON:API error'
      type: object
      required:
        - errors
      properties:
        errors:
          type: array
          description: Non empty array of errors occurred during request processing
          items:
            type: object
            required:
              - title
              - status
            properties:
              title:
                type: string
                description: 'Title is a short, human-readable summary of the problem'
                example: Bad Request
              detail:
                type: string
                description: Detail is a human-readable explanation specific to this occurrence of the problem
                example: Request body was expected
              status:
                type: integer
                description: Status is the HTTP status code applicable to this problem
                example: 400
                enum:
                  - 400
                  - 401
                  - 403
                  - 404
                  - 409
                  - 500
    PaginationData:
      type: object
      required:
        - self
      properties:
        self:
          type: string
          format: uri
          description: link to the current page
        first:
          type: string
          format: uri
          description: link to the first page
        last:
          type: string
          format: uri
          description: link to the last page
        prev:
          type: string
          format: uri
          description: link to the previous page
        next:
          type: string
          format: uri
          description: link to the next page
